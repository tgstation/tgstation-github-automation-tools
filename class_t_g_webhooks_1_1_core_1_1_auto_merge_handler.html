<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>tgstation-github-automation-tools: TGWebhooks.Core.AutoMergeHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tgstation-github-automation-tools
   </div>
   <div id="projectbrief">Web tools for managing the tgstation repository</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_t_g_webhooks.html">TGWebhooks</a></li><li class="navelem"><a class="el" href="namespace_t_g_webhooks_1_1_core.html">Core</a></li><li class="navelem"><a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TGWebhooks.Core.AutoMergeHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p> 
 <a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for TGWebhooks.Core.AutoMergeHandler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.png" usemap="#TGWebhooks.Core.AutoMergeHandler_map" alt=""/>
  <map id="TGWebhooks.Core.AutoMergeHandler_map" name="TGWebhooks.Core.AutoMergeHandler_map">
<area href="interface_t_g_webhooks_1_1_core_1_1_i_auto_merge_handler.html" title="Manages the automatic merge process for PullRequests " alt="TGWebhooks.Core.IAutoMergeHandler" shape="rect" coords="0,56,403,80"/>
<area href="interface_t_g_webhooks_1_1_modules_1_1_i_payload_handler.html" alt="TGWebhooks.Modules.IPayloadHandler&lt; PullRequestEventPayload &gt;" shape="rect" coords="0,0,403,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2783d79d968b143912bb86f797b57d6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a2783d79d968b143912bb86f797b57d6c">AutoMergeHandler</a> (<a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_component_provider.html">IComponentProvider</a> _componentProvider, <a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html">IGitHubManager</a> _gitHubManager, ILogger&lt; <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a> &gt; _logger, <a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_repository.html">IRepository</a> _repository, IStringLocalizer&lt; <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a> &gt; _stringLocalizer, IBackgroundJobClient _backgroundJobClient)</td></tr>
<tr class="memdesc:a2783d79d968b143912bb86f797b57d6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a>  <a href="#a2783d79d968b143912bb86f797b57d6c">More...</a><br /></td></tr>
<tr class="separator:a2783d79d968b143912bb86f797b57d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a75eba1eb722f9ff2086afc1b82985f"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a8a75eba1eb722f9ff2086afc1b82985f">ProcessPayload</a> (PullRequestEventPayload payload, CancellationToken cancellationToken)</td></tr>
<tr class="separator:a8a75eba1eb722f9ff2086afc1b82985f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_interface_t_g_webhooks_1_1_modules_1_1_i_payload_handler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_interface_t_g_webhooks_1_1_modules_1_1_i_payload_handler')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_payload_handler.html">TGWebhooks.Modules.IPayloadHandler&lt; PullRequestEventPayload &gt;</a></td></tr>
<tr class="memitem:a034739e9cfca6c61ae75bf5843ac68a4 inherit pub_methods_interface_t_g_webhooks_1_1_modules_1_1_i_payload_handler"><td class="memItemLeft" align="right" valign="top">Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_payload_handler.html#a034739e9cfca6c61ae75bf5843ac68a4">ProcessPayload</a> (TPayload payload, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a034739e9cfca6c61ae75bf5843ac68a4 inherit pub_methods_interface_t_g_webhooks_1_1_modules_1_1_i_payload_handler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a <em>TPayload</em>   <a href="#a034739e9cfca6c61ae75bf5843ac68a4">More...</a><br /></td></tr>
<tr class="separator:a034739e9cfca6c61ae75bf5843ac68a4 inherit pub_methods_interface_t_g_webhooks_1_1_modules_1_1_i_payload_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a39bd29cca364939d6f06124ee6448457"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a39bd29cca364939d6f06124ee6448457">MergePullRequest</a> (PullRequest pullRequest, string mergerToken, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:a39bd29cca364939d6f06124ee6448457"><td class="mdescLeft">&#160;</td><td class="mdescRight">Merges a <em>pullRequest</em>   <a href="#a39bd29cca364939d6f06124ee6448457">More...</a><br /></td></tr>
<tr class="separator:a39bd29cca364939d6f06124ee6448457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b0878ad35582d8d19945e2ce549ac6a"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a5b0878ad35582d8d19945e2ce549ac6a">RecheckPullRequest</a> (int pullRequestNumber, IJobCancellationToken jobCancellationToken)</td></tr>
<tr class="memdesc:a5b0878ad35582d8d19945e2ce549ac6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rechecks the AutoMergeStatuses of a given <em>pullRequestNumber</em>   <a href="#a5b0878ad35582d8d19945e2ce549ac6a">More...</a><br /></td></tr>
<tr class="separator:a5b0878ad35582d8d19945e2ce549ac6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb721a136a98e73b1bb6f97ec1c4df40"><td class="memItemLeft" align="right" valign="top">async Task&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#adb721a136a98e73b1bb6f97ec1c4df40">CheckMergePullRequest</a> (PullRequest pullRequest, CancellationToken cancellationToken)</td></tr>
<tr class="memdesc:adb721a136a98e73b1bb6f97ec1c4df40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a given <em>pullRequest</em>  is considered mergeable and does so if need be and sets it's commit status  <a href="#adb721a136a98e73b1bb6f97ec1c4df40">More...</a><br /></td></tr>
<tr class="separator:adb721a136a98e73b1bb6f97ec1c4df40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:adfb6b22ec6dafc11ab2b12df07f39a2e"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_component_provider.html">IComponentProvider</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#adfb6b22ec6dafc11ab2b12df07f39a2e">componentProvider</a></td></tr>
<tr class="memdesc:adfb6b22ec6dafc11ab2b12df07f39a2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IComponentProvider for the <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a>  <a href="#adfb6b22ec6dafc11ab2b12df07f39a2e">More...</a><br /></td></tr>
<tr class="separator:adfb6b22ec6dafc11ab2b12df07f39a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0329e18d721d5780b072b22c58773fd8"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html">IGitHubManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8">gitHubManager</a></td></tr>
<tr class="memdesc:a0329e18d721d5780b072b22c58773fd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IGitHubManager for the <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a>  <a href="#a0329e18d721d5780b072b22c58773fd8">More...</a><br /></td></tr>
<tr class="separator:a0329e18d721d5780b072b22c58773fd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4677456c3f92c13ca7abc2241a6f741c"><td class="memItemLeft" align="right" valign="top">readonly ILogger&lt; <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a></td></tr>
<tr class="memdesc:a4677456c3f92c13ca7abc2241a6f741c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ILogger&lt;TCategoryName&gt; for the <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a>  <a href="#a4677456c3f92c13ca7abc2241a6f741c">More...</a><br /></td></tr>
<tr class="separator:a4677456c3f92c13ca7abc2241a6f741c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f5514a662411d22bb17cc4138b8de05"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_repository.html">IRepository</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a2f5514a662411d22bb17cc4138b8de05">repository</a></td></tr>
<tr class="memdesc:a2f5514a662411d22bb17cc4138b8de05"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IRepository for the <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a>  <a href="#a2f5514a662411d22bb17cc4138b8de05">More...</a><br /></td></tr>
<tr class="separator:a2f5514a662411d22bb17cc4138b8de05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2dcb36450731ccf9613742954bc692b"><td class="memItemLeft" align="right" valign="top">readonly IStringLocalizer&lt; <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#ab2dcb36450731ccf9613742954bc692b">stringLocalizer</a></td></tr>
<tr class="memdesc:ab2dcb36450731ccf9613742954bc692b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IStringLocalizer&lt;T&gt; for the <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a>  <a href="#ab2dcb36450731ccf9613742954bc692b">More...</a><br /></td></tr>
<tr class="separator:ab2dcb36450731ccf9613742954bc692b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f1cbfc010ab42656325b357548ba165"><td class="memItemLeft" align="right" valign="top">readonly IBackgroundJobClient&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4f1cbfc010ab42656325b357548ba165">backgroundJobClient</a></td></tr>
<tr class="memdesc:a4f1cbfc010ab42656325b357548ba165"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IBackgroundJobClient for the <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a>  <a href="#a4f1cbfc010ab42656325b357548ba165">More...</a><br /></td></tr>
<tr class="separator:a4f1cbfc010ab42656325b357548ba165"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="_auto_merge_handler_8cs_source.html#l00017">17</a> of file <a class="el" href="_auto_merge_handler_8cs_source.html">AutoMergeHandler.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2783d79d968b143912bb86f797b57d6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TGWebhooks.Core.AutoMergeHandler.AutoMergeHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_component_provider.html">IComponentProvider</a>&#160;</td>
          <td class="paramname"><em>_componentProvider</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html">IGitHubManager</a>&#160;</td>
          <td class="paramname"><em>_gitHubManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ILogger&lt; <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a> &gt;&#160;</td>
          <td class="paramname"><em>_logger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_repository.html">IRepository</a>&#160;</td>
          <td class="paramname"><em>_repository</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IStringLocalizer&lt; <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a> &gt;&#160;</td>
          <td class="paramname"><em>_stringLocalizer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IBackgroundJobClient&#160;</td>
          <td class="paramname"><em>_backgroundJobClient</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct an <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_componentProvider</td><td>The value of <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#adfb6b22ec6dafc11ab2b12df07f39a2e" title="The IComponentProvider for the AutoMergeHandler ">componentProvider</a></td></tr>
    <tr><td class="paramname">_gitHubManager</td><td>The valuse of <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8" title="The IGitHubManager for the AutoMergeHandler ">gitHubManager</a></td></tr>
    <tr><td class="paramname">_logger</td><td>The value of <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c" title="The ILogger&lt;TCategoryName&gt; for the AutoMergeHandler ">logger</a></td></tr>
    <tr><td class="paramname">_repository</td><td>The value of <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a2f5514a662411d22bb17cc4138b8de05" title="The IRepository for the AutoMergeHandler ">repository</a></td></tr>
    <tr><td class="paramname">_stringLocalizer</td><td>The value of <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#ab2dcb36450731ccf9613742954bc692b" title="The IStringLocalizer&lt;T&gt; for the AutoMergeHandler ">stringLocalizer</a></td></tr>
    <tr><td class="paramname">_backgroundJobClient</td><td>The value of <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4f1cbfc010ab42656325b357548ba165" title="The IBackgroundJobClient for the AutoMergeHandler ">backgroundJobClient</a></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_auto_merge_handler_8cs_source.html#l00054">54</a> of file <a class="el" href="_auto_merge_handler_8cs_source.html">AutoMergeHandler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        {</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#adfb6b22ec6dafc11ab2b12df07f39a2e">componentProvider</a> = _componentProvider ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(_componentProvider));</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8">gitHubManager</a> = _gitHubManager ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(_gitHubManager));</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a> = _logger ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(_logger));</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a2f5514a662411d22bb17cc4138b8de05">repository</a> = _repository ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(_repository));</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#ab2dcb36450731ccf9613742954bc692b">stringLocalizer</a> = _stringLocalizer ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(_stringLocalizer));</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4f1cbfc010ab42656325b357548ba165">backgroundJobClient</a> = _backgroundJobClient ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(_backgroundJobClient));</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        }</div><div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_a4f1cbfc010ab42656325b357548ba165"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4f1cbfc010ab42656325b357548ba165">TGWebhooks.Core.AutoMergeHandler.backgroundJobClient</a></div><div class="ttdeci">readonly IBackgroundJobClient backgroundJobClient</div><div class="ttdoc">The IBackgroundJobClient for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00043">AutoMergeHandler.cs:43</a></div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_a4677456c3f92c13ca7abc2241a6f741c"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">TGWebhooks.Core.AutoMergeHandler.logger</a></div><div class="ttdeci">readonly ILogger&lt; AutoMergeHandler &gt; logger</div><div class="ttdoc">The ILogger&lt;TCategoryName&gt; for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00031">AutoMergeHandler.cs:31</a></div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_a0329e18d721d5780b072b22c58773fd8"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8">TGWebhooks.Core.AutoMergeHandler.gitHubManager</a></div><div class="ttdeci">readonly IGitHubManager gitHubManager</div><div class="ttdoc">The IGitHubManager for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00027">AutoMergeHandler.cs:27</a></div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_a2f5514a662411d22bb17cc4138b8de05"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a2f5514a662411d22bb17cc4138b8de05">TGWebhooks.Core.AutoMergeHandler.repository</a></div><div class="ttdeci">readonly IRepository repository</div><div class="ttdoc">The IRepository for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00035">AutoMergeHandler.cs:35</a></div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_adfb6b22ec6dafc11ab2b12df07f39a2e"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#adfb6b22ec6dafc11ab2b12df07f39a2e">TGWebhooks.Core.AutoMergeHandler.componentProvider</a></div><div class="ttdeci">readonly IComponentProvider componentProvider</div><div class="ttdoc">The IComponentProvider for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00023">AutoMergeHandler.cs:23</a></div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_ab2dcb36450731ccf9613742954bc692b"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#ab2dcb36450731ccf9613742954bc692b">TGWebhooks.Core.AutoMergeHandler.stringLocalizer</a></div><div class="ttdeci">readonly IStringLocalizer&lt; AutoMergeHandler &gt; stringLocalizer</div><div class="ttdoc">The IStringLocalizer&lt;T&gt; for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00039">AutoMergeHandler.cs:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="adb721a136a98e73b1bb6f97ec1c4df40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task TGWebhooks.Core.AutoMergeHandler.CheckMergePullRequest </td>
          <td>(</td>
          <td class="paramtype">PullRequest&#160;</td>
          <td class="paramname"><em>pullRequest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a given <em>pullRequest</em>  is considered mergeable and does so if need be and sets it's commit status </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pullRequest</td><td>The PullRequest to check</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Task representing the running operation</dd></dl>

<p>Definition at line <a class="el" href="_auto_merge_handler_8cs_source.html#l00135">135</a> of file <a class="el" href="_auto_merge_handler_8cs_source.html">AutoMergeHandler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <span class="keyword">using</span> (<a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.BeginScope(<span class="stringliteral">&quot;Checking mergability of pull request #{0}.&quot;</span>, pullRequest.Number))</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                <span class="keywordtype">bool</span> merge = <span class="keyword">true</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="keywordtype">string</span> mergerToken = null;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                <span class="keywordtype">int</span> rescheduleIn = 0;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                Task pendingStatusTask = null;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                {</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    pendingStatusTask = <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8">gitHubManager</a>.<a class="code" href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html#aa24f727426153f0769d4d14a42a82690">SetCommitStatus</a>(pullRequest, CommitState.Pending, <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#ab2dcb36450731ccf9613742954bc692b">stringLocalizer</a>[<span class="stringliteral">&quot;CommitStatusPending&quot;</span>]);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    <span class="keywordflow">for</span> (var I = 0; I &lt; 4 &amp;&amp; !pullRequest.Mergeable.HasValue; ++I)</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                        await Task.Delay(I * 1000, cancellationToken).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                        <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogTrace(<span class="stringliteral">&quot;Rechecking git mergeablility.&quot;</span>);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                        pullRequest = await <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8">gitHubManager</a>.<a class="code" href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html#ae17443409a1a510351aad7d3a89f968f">GetPullRequest</a>(pullRequest.Number).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                    }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                    <span class="keywordflow">if</span> (!pullRequest.Mergeable.HasValue || !pullRequest.Mergeable.Value)</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                    {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                        <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogDebug(<span class="stringliteral">&quot;Aborted due to lack of mergeablility: {0}&quot;</span>, pullRequest.Mergeable);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                    }</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    var tasks = <span class="keyword">new</span> List&lt;Task&lt;AutoMergeStatus&gt;&gt;();</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#adfb6b22ec6dafc11ab2b12df07f39a2e">componentProvider</a>.<a class="code" href="interface_t_g_webhooks_1_1_modules_1_1_i_component_provider.html#a5cd008e931b342b7eda63f28fc11d1fe">MergeRequirements</a>)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                        tasks.Add(I.EvaluateFor(pullRequest, cancellationToken));</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    await Task.WhenAll(tasks).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                    <span class="keywordtype">bool</span> goodStatus = <span class="keyword">true</span>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                    var failReasons = <span class="keyword">new</span> List&lt;string&gt;();</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                    <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> tasks.Select(x =&gt; x.Result))</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                        <span class="keywordflow">if</span> (I.Progress &lt; I.RequiredProgress &amp;&amp; merge)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                            <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogDebug(<span class="stringliteral">&quot;Aborting merge due to status failure: {0}/{1}&quot;</span>, I.Progress, I.RequiredProgress);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                            merge = <span class="keyword">false</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                            <span class="keywordflow">if</span> (I.FailStatusReport)</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                            {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                goodStatus = <span class="keyword">false</span>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                                failReasons.AddRange(I.Notes);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                            }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                        }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                        <span class="keywordflow">if</span> (I.ReevaluateIn &gt; 0)</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                            <span class="keywordflow">if</span> (rescheduleIn == 0)</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                rescheduleIn = I.ReevaluateIn;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                            <span class="keywordflow">else</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                rescheduleIn = Math.Min(rescheduleIn, I.ReevaluateIn);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                        }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                        <span class="keywordflow">if</span> (I.MergerAccessToken != null)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                        {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                            <span class="keywordflow">if</span> (mergerToken != null)</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidOperationException(<span class="stringliteral">&quot;Multiple AutoMergeResults with MergerAccessTokens!&quot;</span>);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                            mergerToken = I.MergerAccessToken;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                        }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    var failReasonMessage = String.Empty;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                    <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> failReasons)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                        failReasonMessage = String.Format(CultureInfo.InvariantCulture, <span class="stringliteral">&quot;{0}{1}  - {2}&quot;</span>, failReasonMessage, Environment.NewLine, I);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                    await pendingStatusTask.ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                    await <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8">gitHubManager</a>.<a class="code" href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html#aa24f727426153f0769d4d14a42a82690">SetCommitStatus</a>(pullRequest, goodStatus ? CommitState.Success : CommitState.Failure, goodStatus ? <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#ab2dcb36450731ccf9613742954bc692b">stringLocalizer</a>[<span class="stringliteral">&quot;CommitStatusSuccess&quot;</span>] : <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#ab2dcb36450731ccf9613742954bc692b">stringLocalizer</a>[<span class="stringliteral">&quot;CommitStatusFail&quot;</span>, failReasonMessage]).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                    <span class="keywordflow">if</span> (pendingStatusTask.Exception != null &amp;&amp; pendingStatusTask.Exception != e)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                        <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogError(e, <span class="stringliteral">&quot;Error setting pending status!&quot;</span>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogDebug(e, <span class="stringliteral">&quot;Error occurred. Setting commit state to errored.&quot;</span>);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                    <span class="keywordflow">try</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                    {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                        await <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8">gitHubManager</a>.<a class="code" href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html#aa24f727426153f0769d4d14a42a82690">SetCommitStatus</a>(pullRequest, CommitState.Error, stringLocalizer[<span class="stringliteral">&quot;CommitStatusError&quot;</span>, e]).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                    }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                    <span class="keywordflow">catch</span> (Exception e2)</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                        <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogError(e2, <span class="stringliteral">&quot;Unable to create error status!&quot;</span>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    <span class="keywordflow">throw</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                <span class="keywordflow">if</span> (merge)</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                {</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                    <span class="keywordflow">if</span> (mergerToken == null)</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                        <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogWarning(<span class="stringliteral">&quot;Not merging due to lack of provided merger token!&quot;</span>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    <span class="keywordflow">else</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        await <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a39bd29cca364939d6f06124ee6448457">MergePullRequest</a>(pullRequest, mergerToken, cancellationToken).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                    }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                <span class="keywordflow">if</span> (rescheduleIn &gt; 0)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                    var targetTime = DateTimeOffset.UtcNow.AddSeconds(rescheduleIn);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    BackgroundJob.Schedule(() =&gt; <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a5b0878ad35582d8d19945e2ce549ac6a">RecheckPullRequest</a>(pullRequest.Number, JobCancellationToken.Null), targetTime);</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                    <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogDebug(<span class="stringliteral">&quot;Pull request recheck scheduled for {0}.&quot;</span>, targetTime);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                }</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="keywordflow">else</span></div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                    <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogTrace(<span class="stringliteral">&quot;Not rescheduling pull request check.&quot;</span>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        }</div><div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_a39bd29cca364939d6f06124ee6448457"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a39bd29cca364939d6f06124ee6448457">TGWebhooks.Core.AutoMergeHandler.MergePullRequest</a></div><div class="ttdeci">async Task MergePullRequest(PullRequest pullRequest, string mergerToken, CancellationToken cancellationToken)</div><div class="ttdoc">Merges a pullRequest  </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00071">AutoMergeHandler.cs:71</a></div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_a5b0878ad35582d8d19945e2ce549ac6a"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a5b0878ad35582d8d19945e2ce549ac6a">TGWebhooks.Core.AutoMergeHandler.RecheckPullRequest</a></div><div class="ttdeci">async Task RecheckPullRequest(int pullRequestNumber, IJobCancellationToken jobCancellationToken)</div><div class="ttdoc">Rechecks the AutoMergeStatuses of a given pullRequestNumber  </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00111">AutoMergeHandler.cs:111</a></div></div>
<div class="ttc" id="interface_t_g_webhooks_1_1_modules_1_1_i_component_provider_html_a5cd008e931b342b7eda63f28fc11d1fe"><div class="ttname"><a href="interface_t_g_webhooks_1_1_modules_1_1_i_component_provider.html#a5cd008e931b342b7eda63f28fc11d1fe">TGWebhooks.Modules.IComponentProvider.MergeRequirements</a></div><div class="ttdeci">IEnumerable&lt; IMergeRequirement &gt; MergeRequirements</div><div class="ttdoc">The IMergeRequirements the IComponentProvider contains </div><div class="ttdef"><b>Definition:</b> <a href="_i_component_provider_8cs_source.html#l00016">IComponentProvider.cs:16</a></div></div>
<div class="ttc" id="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager_html_ae17443409a1a510351aad7d3a89f968f"><div class="ttname"><a href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html#ae17443409a1a510351aad7d3a89f968f">TGWebhooks.Modules.IGitHubManager.GetPullRequest</a></div><div class="ttdeci">Task&lt; PullRequest &gt; GetPullRequest(int number)</div><div class="ttdoc">Get a PullRequest </div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_a4677456c3f92c13ca7abc2241a6f741c"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">TGWebhooks.Core.AutoMergeHandler.logger</a></div><div class="ttdeci">readonly ILogger&lt; AutoMergeHandler &gt; logger</div><div class="ttdoc">The ILogger&lt;TCategoryName&gt; for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00031">AutoMergeHandler.cs:31</a></div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_a0329e18d721d5780b072b22c58773fd8"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8">TGWebhooks.Core.AutoMergeHandler.gitHubManager</a></div><div class="ttdeci">readonly IGitHubManager gitHubManager</div><div class="ttdoc">The IGitHubManager for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00027">AutoMergeHandler.cs:27</a></div></div>
<div class="ttc" id="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager_html_aa24f727426153f0769d4d14a42a82690"><div class="ttname"><a href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html#aa24f727426153f0769d4d14a42a82690">TGWebhooks.Modules.IGitHubManager.SetCommitStatus</a></div><div class="ttdeci">Task SetCommitStatus(PullRequest pullRequest, CommitState commitState, string description)</div><div class="ttdoc">Creates a CommitStatus for a pullRequest  </div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_adfb6b22ec6dafc11ab2b12df07f39a2e"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#adfb6b22ec6dafc11ab2b12df07f39a2e">TGWebhooks.Core.AutoMergeHandler.componentProvider</a></div><div class="ttdeci">readonly IComponentProvider componentProvider</div><div class="ttdoc">The IComponentProvider for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00023">AutoMergeHandler.cs:23</a></div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_ab2dcb36450731ccf9613742954bc692b"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#ab2dcb36450731ccf9613742954bc692b">TGWebhooks.Core.AutoMergeHandler.stringLocalizer</a></div><div class="ttdeci">readonly IStringLocalizer&lt; AutoMergeHandler &gt; stringLocalizer</div><div class="ttdoc">The IStringLocalizer&lt;T&gt; for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00039">AutoMergeHandler.cs:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a39bd29cca364939d6f06124ee6448457"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task TGWebhooks.Core.AutoMergeHandler.MergePullRequest </td>
          <td>(</td>
          <td class="paramtype">PullRequest&#160;</td>
          <td class="paramname"><em>pullRequest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>mergerToken</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Merges a <em>pullRequest</em>  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pullRequest</td><td>The PullRequest to merge</td></tr>
    <tr><td class="paramname">mergerToken</td><td>The token to use for merging</td></tr>
    <tr><td class="paramname">cancellationToken</td><td>The CancellationToken for the operation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Task representing the running operation</dd></dl>

<p>Definition at line <a class="el" href="_auto_merge_handler_8cs_source.html#l00071">71</a> of file <a class="el" href="_auto_merge_handler_8cs_source.html">AutoMergeHandler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            var acceptedHEAD = pullRequest.Head.Sha;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            </div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            var startoffCommit = await <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a2f5514a662411d22bb17cc4138b8de05">repository</a>.<a class="code" href="interface_t_g_webhooks_1_1_modules_1_1_i_repository.html#a6755c3589136e18a6473d3704343c809">CreatePullRequestWorkingCommit</a>(pullRequest, cancellationToken).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="comment">//run any merge handlers</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            var workingCommit = startoffCommit;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordflow">foreach</span> (var I <span class="keywordflow">in</span> <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#adfb6b22ec6dafc11ab2b12df07f39a2e">componentProvider</a>.<a class="code" href="interface_t_g_webhooks_1_1_modules_1_1_i_component_provider.html#aef489d80950b8fdd97663f6f5b484b53">MergeHooks</a>)</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                workingCommit = await I.ModifyMerge(pullRequest, workingCommit, cancellationToken).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            var anyUpdate = acceptedHEAD != workingCommit;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">if</span> (anyUpdate)</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <span class="comment">//force push this bitch up</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                await <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a2f5514a662411d22bb17cc4138b8de05">repository</a>.<a class="code" href="interface_t_g_webhooks_1_1_modules_1_1_i_repository.html#a3f33cae1f94570b66c893252621b76ee">Push</a>(pullRequest.Head.Repository.GitUrl, pullRequest.Head.Ref.Split(<span class="charliteral">&#39;:&#39;</span>)[1], workingCommit, mergerToken, <span class="keyword">true</span>, cancellationToken).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            {</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                await <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8">gitHubManager</a>.<a class="code" href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html#a78b8a1276e891f7a520009d2cbcf3aa2">MergePullRequest</a>(pullRequest, mergerToken).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">catch</span> (Exception e2)</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogError(e2, <span class="stringliteral">&quot;Merge process unable to be completed!&quot;</span>);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                <span class="keywordflow">try</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                    await <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8">gitHubManager</a>.<a class="code" href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html#a4f18977770c737ff7b08267e5aa8e0e9">CreateComment</a>(pullRequest.Number, <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#ab2dcb36450731ccf9613742954bc692b">stringLocalizer</a>[<span class="stringliteral">&quot;MergeProcessInterruption&quot;</span>, e2.ToString()]).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                    <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogError(e, <span class="stringliteral">&quot;Unable to comment on merge process failure!&quot;</span>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                }</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keywordflow">throw</span>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }</div><div class="ttc" id="interface_t_g_webhooks_1_1_modules_1_1_i_component_provider_html_aef489d80950b8fdd97663f6f5b484b53"><div class="ttname"><a href="interface_t_g_webhooks_1_1_modules_1_1_i_component_provider.html#aef489d80950b8fdd97663f6f5b484b53">TGWebhooks.Modules.IComponentProvider.MergeHooks</a></div><div class="ttdeci">IEnumerable&lt; IMergeHook &gt; MergeHooks</div><div class="ttdoc">The IMergeHooks the IComponentProvider contains </div><div class="ttdef"><b>Definition:</b> <a href="_i_component_provider_8cs_source.html#l00021">IComponentProvider.cs:21</a></div></div>
<div class="ttc" id="interface_t_g_webhooks_1_1_modules_1_1_i_repository_html_a6755c3589136e18a6473d3704343c809"><div class="ttname"><a href="interface_t_g_webhooks_1_1_modules_1_1_i_repository.html#a6755c3589136e18a6473d3704343c809">TGWebhooks.Modules.IRepository.CreatePullRequestWorkingCommit</a></div><div class="ttdeci">Task&lt; string &gt; CreatePullRequestWorkingCommit(PullRequest pullRequest, CancellationToken cancellationToken)</div><div class="ttdoc">Fetches the given pullRequest  into the IRepository and returns the proper HEAD commit. If the PullRequest.Commits count is more than one it will be squashed. Must be done in the returned SemaphoreSlimContext of LockToCallStack(CancellationToken) </div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_a4677456c3f92c13ca7abc2241a6f741c"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">TGWebhooks.Core.AutoMergeHandler.logger</a></div><div class="ttdeci">readonly ILogger&lt; AutoMergeHandler &gt; logger</div><div class="ttdoc">The ILogger&lt;TCategoryName&gt; for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00031">AutoMergeHandler.cs:31</a></div></div>
<div class="ttc" id="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager_html_a78b8a1276e891f7a520009d2cbcf3aa2"><div class="ttname"><a href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html#a78b8a1276e891f7a520009d2cbcf3aa2">TGWebhooks.Modules.IGitHubManager.MergePullRequest</a></div><div class="ttdeci">Task MergePullRequest(PullRequest pullRequest, string overrideAccessToken)</div><div class="ttdoc">Squashes and merges the given PullRequest with it&amp;#39;s current PullRequest.Title, PullRequest.Number, and PullRequest.Body as the log message </div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_a0329e18d721d5780b072b22c58773fd8"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8">TGWebhooks.Core.AutoMergeHandler.gitHubManager</a></div><div class="ttdeci">readonly IGitHubManager gitHubManager</div><div class="ttdoc">The IGitHubManager for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00027">AutoMergeHandler.cs:27</a></div></div>
<div class="ttc" id="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager_html_a4f18977770c737ff7b08267e5aa8e0e9"><div class="ttname"><a href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html#a4f18977770c737ff7b08267e5aa8e0e9">TGWebhooks.Modules.IGitHubManager.CreateComment</a></div><div class="ttdeci">Task CreateComment(int number, string body)</div><div class="ttdoc">Creates a comment on the specified Issue </div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_a2f5514a662411d22bb17cc4138b8de05"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a2f5514a662411d22bb17cc4138b8de05">TGWebhooks.Core.AutoMergeHandler.repository</a></div><div class="ttdeci">readonly IRepository repository</div><div class="ttdoc">The IRepository for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00035">AutoMergeHandler.cs:35</a></div></div>
<div class="ttc" id="interface_t_g_webhooks_1_1_modules_1_1_i_repository_html_a3f33cae1f94570b66c893252621b76ee"><div class="ttname"><a href="interface_t_g_webhooks_1_1_modules_1_1_i_repository.html#a3f33cae1f94570b66c893252621b76ee">TGWebhooks.Modules.IRepository.Push</a></div><div class="ttdeci">Task Push(string remote, string branch, string commit, string token, bool force, CancellationToken cancellationToken)</div><div class="ttdoc">Pushes a commit  to a specified remote  branch , optionally force ing it. Must be done in the returne...</div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_adfb6b22ec6dafc11ab2b12df07f39a2e"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#adfb6b22ec6dafc11ab2b12df07f39a2e">TGWebhooks.Core.AutoMergeHandler.componentProvider</a></div><div class="ttdeci">readonly IComponentProvider componentProvider</div><div class="ttdoc">The IComponentProvider for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00023">AutoMergeHandler.cs:23</a></div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_ab2dcb36450731ccf9613742954bc692b"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#ab2dcb36450731ccf9613742954bc692b">TGWebhooks.Core.AutoMergeHandler.stringLocalizer</a></div><div class="ttdeci">readonly IStringLocalizer&lt; AutoMergeHandler &gt; stringLocalizer</div><div class="ttdoc">The IStringLocalizer&lt;T&gt; for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00039">AutoMergeHandler.cs:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8a75eba1eb722f9ff2086afc1b82985f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task TGWebhooks.Core.AutoMergeHandler.ProcessPayload </td>
          <td>(</td>
          <td class="paramtype">PullRequestEventPayload&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CancellationToken&#160;</td>
          <td class="paramname"><em>cancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p></p>

<p>Definition at line <a class="el" href="_auto_merge_handler_8cs_source.html#l00241">241</a> of file <a class="el" href="_auto_merge_handler_8cs_source.html">AutoMergeHandler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;            <span class="keywordflow">if</span> (payload == null)</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(payload));</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            </div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            await <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#adb721a136a98e73b1bb6f97ec1c4df40">CheckMergePullRequest</a>(payload.PullRequest, cancellationToken).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        }</div><div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_adb721a136a98e73b1bb6f97ec1c4df40"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#adb721a136a98e73b1bb6f97ec1c4df40">TGWebhooks.Core.AutoMergeHandler.CheckMergePullRequest</a></div><div class="ttdeci">async Task CheckMergePullRequest(PullRequest pullRequest, CancellationToken cancellationToken)</div><div class="ttdoc">Checks if a given pullRequest  is considered mergeable and does so if need be and sets it&amp;#39;s commit st...</div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00135">AutoMergeHandler.cs:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b0878ad35582d8d19945e2ce549ac6a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task TGWebhooks.Core.AutoMergeHandler.RecheckPullRequest </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pullRequestNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IJobCancellationToken&#160;</td>
          <td class="paramname"><em>jobCancellationToken</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rechecks the AutoMergeStatuses of a given <em>pullRequestNumber</em>  </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pullRequestNumber</td><td>The PullRequest.Number PullRequest to check</td></tr>
    <tr><td class="paramname">jobCancellationToken</td><td>The IJobCancellationToken for the operation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A Task representing the running operation</dd></dl>

<p>Definition at line <a class="el" href="_auto_merge_handler_8cs_source.html#l00111">111</a> of file <a class="el" href="_auto_merge_handler_8cs_source.html">AutoMergeHandler.cs</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogDebug(<span class="stringliteral">&quot;Running scheduled recheck of pull request #{0}.&quot;</span>, pullRequestNumber);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <span class="keywordflow">try</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                var pullRequest = await <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8">gitHubManager</a>.<a class="code" href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html#ae17443409a1a510351aad7d3a89f968f">GetPullRequest</a>(pullRequestNumber).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                await <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#adb721a136a98e73b1bb6f97ec1c4df40">CheckMergePullRequest</a>(pullRequest, jobCancellationToken.ShutdownToken).ConfigureAwait(<span class="keyword">false</span>);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            }</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keywordflow">catch</span> (OperationCanceledException e)</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            {</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogDebug(e, <span class="stringliteral">&quot;Pull request recheck cancelled!&quot;</span>);</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            <span class="keywordflow">catch</span> (Exception e)</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                <a class="code" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">logger</a>.LogError(e, <span class="stringliteral">&quot;Pull request recheck failed!&quot;</span>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        }</div><div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_adb721a136a98e73b1bb6f97ec1c4df40"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#adb721a136a98e73b1bb6f97ec1c4df40">TGWebhooks.Core.AutoMergeHandler.CheckMergePullRequest</a></div><div class="ttdeci">async Task CheckMergePullRequest(PullRequest pullRequest, CancellationToken cancellationToken)</div><div class="ttdoc">Checks if a given pullRequest  is considered mergeable and does so if need be and sets it&amp;#39;s commit st...</div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00135">AutoMergeHandler.cs:135</a></div></div>
<div class="ttc" id="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager_html_ae17443409a1a510351aad7d3a89f968f"><div class="ttname"><a href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html#ae17443409a1a510351aad7d3a89f968f">TGWebhooks.Modules.IGitHubManager.GetPullRequest</a></div><div class="ttdeci">Task&lt; PullRequest &gt; GetPullRequest(int number)</div><div class="ttdoc">Get a PullRequest </div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_a4677456c3f92c13ca7abc2241a6f741c"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a4677456c3f92c13ca7abc2241a6f741c">TGWebhooks.Core.AutoMergeHandler.logger</a></div><div class="ttdeci">readonly ILogger&lt; AutoMergeHandler &gt; logger</div><div class="ttdoc">The ILogger&lt;TCategoryName&gt; for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00031">AutoMergeHandler.cs:31</a></div></div>
<div class="ttc" id="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler_html_a0329e18d721d5780b072b22c58773fd8"><div class="ttname"><a href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html#a0329e18d721d5780b072b22c58773fd8">TGWebhooks.Core.AutoMergeHandler.gitHubManager</a></div><div class="ttdeci">readonly IGitHubManager gitHubManager</div><div class="ttdoc">The IGitHubManager for the AutoMergeHandler </div><div class="ttdef"><b>Definition:</b> <a href="_auto_merge_handler_8cs_source.html#l00027">AutoMergeHandler.cs:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a4f1cbfc010ab42656325b357548ba165"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly IBackgroundJobClient TGWebhooks.Core.AutoMergeHandler.backgroundJobClient</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IBackgroundJobClient for the <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a> </p>

<p>Definition at line <a class="el" href="_auto_merge_handler_8cs_source.html#l00043">43</a> of file <a class="el" href="_auto_merge_handler_8cs_source.html">AutoMergeHandler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="adfb6b22ec6dafc11ab2b12df07f39a2e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_component_provider.html">IComponentProvider</a> TGWebhooks.Core.AutoMergeHandler.componentProvider</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IComponentProvider for the <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a> </p>

<p>Definition at line <a class="el" href="_auto_merge_handler_8cs_source.html#l00023">23</a> of file <a class="el" href="_auto_merge_handler_8cs_source.html">AutoMergeHandler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a0329e18d721d5780b072b22c58773fd8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_git_hub_manager.html">IGitHubManager</a> TGWebhooks.Core.AutoMergeHandler.gitHubManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IGitHubManager for the <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a> </p>

<p>Definition at line <a class="el" href="_auto_merge_handler_8cs_source.html#l00027">27</a> of file <a class="el" href="_auto_merge_handler_8cs_source.html">AutoMergeHandler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a4677456c3f92c13ca7abc2241a6f741c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly ILogger&lt;<a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a>&gt; TGWebhooks.Core.AutoMergeHandler.logger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The ILogger&lt;TCategoryName&gt; for the <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a> </p>

<p>Definition at line <a class="el" href="_auto_merge_handler_8cs_source.html#l00031">31</a> of file <a class="el" href="_auto_merge_handler_8cs_source.html">AutoMergeHandler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="a2f5514a662411d22bb17cc4138b8de05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_t_g_webhooks_1_1_modules_1_1_i_repository.html">IRepository</a> TGWebhooks.Core.AutoMergeHandler.repository</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IRepository for the <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a> </p>

<p>Definition at line <a class="el" href="_auto_merge_handler_8cs_source.html#l00035">35</a> of file <a class="el" href="_auto_merge_handler_8cs_source.html">AutoMergeHandler.cs</a>.</p>

</div>
</div>
<a class="anchor" id="ab2dcb36450731ccf9613742954bc692b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly IStringLocalizer&lt;<a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a>&gt; TGWebhooks.Core.AutoMergeHandler.stringLocalizer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IStringLocalizer&lt;T&gt; for the <a class="el" href="class_t_g_webhooks_1_1_core_1_1_auto_merge_handler.html">AutoMergeHandler</a> </p>

<p>Definition at line <a class="el" href="_auto_merge_handler_8cs_source.html#l00039">39</a> of file <a class="el" href="_auto_merge_handler_8cs_source.html">AutoMergeHandler.cs</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>TGWebhooks/Core/<a class="el" href="_auto_merge_handler_8cs_source.html">AutoMergeHandler.cs</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
